RBTree=function(x){var v=function(r){r=v.m[r];if(r.mod)return r.mod.exports;var w=r.mod={exports:{}};r(w,w.exports);return w.exports};v.m={};v.m["./treebase"]=function(r,w){function h(){}function p(a){this._tree=a;this._ancestors=[];this._cursor=null}h.prototype.clear=function(){this._root=null;this.size=0};h.prototype.find=function(a){for(var b=this._root;null!==b;){var d=this._comparator(a,b.data);if(0===d)return b.data;b=b.get_child(0<d)}return null};h.prototype.findIter=function(a){for(var b=
this._root,d=this.iterator();null!==b;){var u=this._comparator(a,b.data);if(0===u)return d._cursor=b,d;d._ancestors.push(b);b=b.get_child(0<u)}return null};h.prototype.lowerBound=function(a){for(var b=this._root,d=this.iterator(),u=this._comparator;null!==b;){var c=u(a,b.data);if(0===c)return d._cursor=b,d;d._ancestors.push(b);b=b.get_child(0<c)}for(c=d._ancestors.length-1;0<=c;--c)if(b=d._ancestors[c],0>u(a,b.data))return d._cursor=b,d._ancestors.length=c,d;d._ancestors.length=0;return d};h.prototype.upperBound=
function(a){for(var b=this.lowerBound(a),d=this._comparator;null!==b.data()&&0===d(b.data(),a);)b.next();return b};h.prototype.min=function(){var a=this._root;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data};h.prototype.max=function(){var a=this._root;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data};h.prototype.iterator=function(){return new p(this)};h.prototype.each=function(a){for(var b=this.iterator(),d;null!==(d=b.next())&&!1!==a(d););};h.prototype.reach=
function(a){for(var b=this.iterator(),d;null!==(d=b.prev())&&!1!==a(d););};p.prototype.data=function(){return null!==this._cursor?this._cursor.data:null};p.prototype.next=function(){if(null===this._cursor){var a=this._tree._root;null!==a&&this._minNode(a)}else if(null===this._cursor.right){do if(a=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===a)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);
return null!==this._cursor?this._cursor.data:null};p.prototype.prev=function(){if(null===this._cursor){var a=this._tree._root;null!==a&&this._maxNode(a)}else if(null===this._cursor.left){do if(a=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===a)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null};p.prototype._minNode=function(a){for(;null!==a.left;)this._ancestors.push(a),
a=a.left;this._cursor=a};p.prototype._maxNode=function(a){for(;null!==a.right;)this._ancestors.push(a),a=a.right;this._cursor=a};r.exports=h};v.m.__main__=function(r,w){function h(c){this.data=c;this.right=this.left=null;this.red=!0}function p(c){this._root=null;this._comparator=c;this.size=0}function a(c){return null!==c&&c.red}function b(c,g){var e=c.get_child(!g);c.set_child(!g,e.get_child(g));e.set_child(g,c);c.red=!0;e.red=!1;return e}function d(c,g){c.set_child(!g,b(c.get_child(!g),!g));return b(c,
g)}var u=v("./treebase");h.prototype.get_child=function(c){return c?this.right:this.left};h.prototype.set_child=function(c,g){c?this.right=g:this.left=g};p.prototype=new u;p.prototype.insert=function(c){var g=!1;if(null===this._root)this._root=new h(c),g=!0,this.size++;else{var e=new h(void 0),l=0,n=0,q=null,m=e,k=null,f=this._root;for(m.right=this._root;;){null===f?(f=new h(c),k.set_child(l,f),g=!0,this.size++):a(f.left)&&a(f.right)&&(f.red=!0,f.left.red=!1,f.right.red=!1);if(a(f)&&a(k)){var t=m.right===
q;f===k.get_child(n)?m.set_child(t,b(q,!n)):m.set_child(t,d(q,!n))}t=this._comparator(f.data,c);if(0===t)break;n=l;l=0>t;null!==q&&(m=q);q=k;k=f;f=f.get_child(l)}this._root=e.right}this._root.red=!1;return g};p.prototype.remove=function(c){if(null===this._root)return!1;var g=new h(void 0),e=g;e.right=this._root;for(var l=null,n,q=null,m=1;null!==e.get_child(m);){var k=m;n=l;l=e;e=e.get_child(m);var f=this._comparator(c,e.data);m=0<f;0===f&&(q=e);if(!a(e)&&!a(e.get_child(m)))if(a(e.get_child(!m)))n=
b(e,m),l.set_child(k,n),l=n;else if(!a(e.get_child(!m))&&(f=l.get_child(!k),null!==f))if(a(f.get_child(!k))||a(f.get_child(k))){var t=n.right===l;a(f.get_child(k))?n.set_child(t,d(l,k)):a(f.get_child(!k))&&n.set_child(t,b(l,k));k=n.get_child(t);k.red=!0;e.red=!0;k.left.red=!1;k.right.red=!1}else l.red=!1,f.red=!0,e.red=!0}null!==q&&(q.data=e.data,l.set_child(l.right===e,e.get_child(null===e.left)),this.size--);this._root=g.right;null!==this._root&&(this._root.red=!1);return null!==q};r.exports=p};
return v("__main__")}(window);